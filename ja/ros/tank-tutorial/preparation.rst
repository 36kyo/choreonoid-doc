準備
====

.. contents::
   :local:

ROSとChoreonoid関連パッケージのセットアップ
-------------------------------------------

本チュートリアルの実施にあたっては、まず :doc:`../install-ros` と :doc:`../build-choreonoid` を行っておく必要があります。これらのページの手順に従ってインストールやビルドを行い、 :doc:`../run-choreonoid` ができるようにしておいてください。

なお、:ref:`ros_choreonoid_add_package_sources` においては、Choreonoid関連パッケージとして以下の3つが導入されていればOKです。

* choreonoid
* choreonoid_ros
* choreonoid_joy

上記ページではchoreonoid_ros_samplesも導入していますが、そちらは本チュートリアルの実施には必要ありません。（もちろん、導入されていても特に問題はありません。）

チュートリアル用ディレクトリの作成
----------------------------------

catkinワークスペース上の適当な場所（通称は src ディレクトリ以下）に、本チュートリアル用のディレクトリを作成します。例えば catkinワークスペースがホームディレクトリの "catkin_ws" に構築されている場合は、以下のようにすればOKです。 ::

 cd ~/catkin_ws/src
 mkdir choreonoid_ros_tank_tutorial

ディレクトリ名は他のパッケージと被らなければ何でも結構ですが、ここでは "choreonoid_ros_tank_tutorial" としています。このディレクトリ名はチュートリアルに含まれるファイルが所属するパッケージ名にもなります。

なお、本チュートリアルのファイル一式は、Githubで公開されています。そのリポジトリをクローンすることで、ソースコードの入力を行わずに本チュートリアルを試すことも可能です。この場合、以下のようにします。 ::

 cd ~/catkin_ws/src
 git clone https://github.com/s-nakaoka/choreonoid_ros_tank_tutorial.git

本チュートリアルでは、この "choreonoid_ros_tank_tutorial" というディレクトリを使用することにします。ディレクトリ名が少し長いですが、これは他のChoreonoid関連パッケージと統一感を持たせるためで、ご了承ください。もし他のディレクトリ名を使用したい場合は、チュートリアルにおいて対応する箇所を差し替えるようにしてください。

ROSマスターの起動
-----------------

端末を開いて以下を入力し、ROSマスターを起動しておきます。 ::

  roscore

roslaunchコマンドを用いる場合は、ROSマスターがなければ自動で起動されるようです。チュートリアルではroslaunchも使用しますので、ROSマスターを明示的に起動しておかなくても大丈夫な場合もありますが、一般的にはこの作業は予め行っておきます。

作業用端末の起動
----------------

ROSマスターの起動用とは別に、チュートリアルの作業用に端末を開いて、上記のチュートリアル用ディレクトリに移動しておくようにしてください。なお、端末はチュートリアルを進める上で複数必要となる場合もあります。
