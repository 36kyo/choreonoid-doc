======================================
AGX Dynamicsのインストール（Windows編）
======================================

.. contents::
   :local:
   :depth: 1

インストール
------------

AGX Dynamics Windows版のインストール方法について説明します。
AGX Dynamicsダウンロードサイトから **x64**, **VS2019** 用のファイルをダウンロードし、実行します。
2021年11月の時点で、バージョン2.29、2.30、2.31が使用できることを確認しています。

インストーラーが起動しますので、表示される指示に従ってください。
AGX Dynamicsのバージョン2.30以降では、デフォルトで c:\Users\ユーザ名\AppData\Local\Algoryx\AGX-<version> にインストールされます。この場合、ユーザごとに個別にインストールされることになります。バージョン2.29以前では、c:\Program Files 以下にインストールされ、システム全体で共通のインストールとなっていました。これはどちらの場合も対応可能です。

インストールの最後に、

* Install Python libraries?
* Open AGX Dynamics Documentation and tutorials?

と聞かれます。これはデフォルトでどちらもチェックが入っていて、それぞれ実行されることになります。しかしChoreonoidでAGX Dynamicsプラグインを使用するにあたっては、どちらも必要のない処理ですので、チェックは外しておいてもOKです。特に最初のPythonに関する項目については、チェックを入れて実行すると、該当ライブラリのダウンロードに長い時間がかかってしまいますし、Pythonの環境が変わってしまうことにもなるので、チェックを外しておいたほうが無難かと思います。

インストーラの処理が完了したら、AGX実行ライセンスファイル（agx.lic）を、インストール先の（AGX-2.31.0.2といった）ディレクトリにコピーしておきます。またドングルがある場合はそちらもPCに接続するようにしてください。この処理が適切されていないと、AGX Dynamicsを用いたシミュレーションの実行時にライセンスエラーとなり、シミュレーションを実行することができなくなります。

動作確認
--------

AGX Dynamicsのサンプルを実行して動作確認をします。コマンドプロンプトを開いて、以下のコマンドを順番に実行します。

.. code-block:: txt

   cd <AGX Dynamicsインストールディレクトリ>
   setup_env.bat
   cd bin\x64
   tutorial_trackedVehicle.exe
